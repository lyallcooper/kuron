{{define "content"}}
<div class="page-header">
    <h1>Quick Scan</h1>
</div>

<div class="card">
    <div class="card-body">
        <p>Run a one-time scan without saving a configuration.</p>

        <form method="POST" action="/scans/quick">
            <div class="form-group">
                <label class="form-label">Paths to Scan</label>
                <div id="paths-list">
                {{range .Paths}}
                <div class="form-checkbox">
                    <input type="checkbox" name="paths" value="{{.ID}}" id="path-{{.ID}}">
                    <label for="path-{{.ID}}">
                        {{.Path}}
                        {{if .FromEnv}}<span class="locked">(from env)</span>{{end}}
                    </label>
                </div>
                {{end}}
                {{if not .Paths}}
                <p class="form-help" id="no-paths-msg">No paths configured yet.</p>
                {{end}}
                </div>
                <div class="add-path-form">
                    <input type="text" id="new-path" name="new_path" class="form-input"
                           placeholder="/path/to/directory" style="flex: 1;">
                    <button type="button" class="btn"
                            hx-post="/settings/paths/add-inline"
                            hx-include="closest .form-group"
                            hx-target="#paths-list"
                            hx-swap="innerHTML">Add Path</button>
                </div>
            </div>

            <div class="actions-bar">
                <button type="submit" class="btn btn-primary">Run Scan</button>
                <a href="/" class="btn">Cancel</a>
            </div>
        </form>
    </div>
</div>

<div class="card">
    <div class="card-header">Need to run scans regularly?</div>
    <div class="card-body">
        <p>Create a scan configuration to save your settings and schedule automatic scans.</p>
        <a href="/scans/new" class="btn">New Scan Config</a>
    </div>
</div>
{{end}}
